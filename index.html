<!DOCTYPE html>
<html lang="en">
<head>
  <title>Bootstrap Example</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="https://unpkg.com/ipfs-http-client/dist/index.min.js"></script>
  <script src="app.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

</head>
<body>
  <button onclick="ins()">water
  </button>

  <!-- HTML -->
<input type="file" id="fileInput">
<button onclick="uploadFile()">Upload</button>

<script>
  // JavaScript
async function uploadFile() {
  const inputFile = document.getElementById('fileInput').files[0];
  
  const formData = new FormData();
  formData.append('file', inputFile);
  
  try {
    const response = await fetch('/upload', {
      method: 'POST',
      body: formData
    });
    
    if (response.ok) {
      const { cid } = await response.json();
      console.log('Uploaded file CID:', cid);
      // Perform further operations with the CID if needed
    } else {
      console.log('File upload failed:');
      // Handle the error condition
    }
  } catch (error) {
    console.error('Error uploading file:', error);
    // Handle the error condition
  }
}

</script>
  <script >
    async function ins(){
        const query = {
            path: '/home/hdoop/Desktop/Mini project/localminiproject/H-Vault/fsd.json',
            firstName: 'Abhishek',
            lastName: 'S',
            dob: 0,
            bg: 'o+',
            phone: 999,
            email: '@jga',
            gender: 'male',
            ms: 'no'
            };
            const customConfig = {
                headers: {
                'Content-Type': 'application/json'
                }
            };
        
            // Send the POST request using Axios
            const res = await axios.post('http://127.0.0.1:3000/insert', query, customConfig);
            
            console.log(res)
    }

    
  </script>

<div class="container">
  <center>
  <h2>Upload to IPFS</h2>
  <input id="fileUpload" type="file" class="btn btn-primary">Select File</input>
  <br /><br />
  <div id="ipfs_hash"></div>
  </center>
</div>

</body>
</html>